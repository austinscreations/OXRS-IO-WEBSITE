<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.36">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>ESP SENSOR library | OXRS Docs</title><meta name="description" content="The Open eXtensible Rack System">
    <link rel="modulepreload" href="/assets/app.b38cdf7f.js"><link rel="modulepreload" href="/assets/esp-sensor-library.html.cfa541ad.js"><link rel="modulepreload" href="/assets/esp-sensor-library.html.bba83109.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/assets/style.c2e60948.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/hero.png" alt="OXRS Docs"><span class="site-name can-hide">OXRS Docs</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Docs"><span class="title">Docs</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Docs"><span class="title">Docs</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/docs/hardware" class="" aria-label="Hardware"><!--[--><!--]--> Hardware <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/firmware" class="" aria-label="Firmware"><!--[--><!--]--> Firmware <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/libraries" class="router-link-active" aria-label="Libraries"><!--[--><!--]--> Libraries <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/cases" class="" aria-label="Cases"><!--[--><!--]--> Cases <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Add-ons"><span class="title">Add-ons</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Add-ons"><span class="title">Add-ons</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/add-ons/accessibility" class="" aria-label="Accessibility"><!--[--><!--]--> Accessibility <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/add-ons/displays" class="" aria-label="Displays"><!--[--><!--]--> Displays <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/add-ons/switches" class="" aria-label="Switches"><!--[--><!--]--> Switches <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Guides"><span class="title">Guides</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Guides"><span class="title">Guides</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/guides/getting-started/" class="" aria-label="Getting Started"><!--[--><!--]--> Getting Started <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guides/advanced" class="" aria-label="Advanced"><!--[--><!--]--> Advanced <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guides/standards" class="" aria-label="Standards"><!--[--><!--]--> Standards <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guides/writing-docs/" class="" aria-label="Writing Docs"><!--[--><!--]--> Writing Docs <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Glossary"><span class="title">Glossary</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Glossary"><span class="title">Glossary</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/glossary/skus.md" class="" aria-label="SKU&#39;s"><!--[--><!--]--> SKU&#39;s <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/glossary/makers.md" class="" aria-label="Makers"><!--[--><!--]--> Makers <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/glossary/acronyms.md" class="" aria-label="Acronyms"><!--[--><!--]--> Acronyms <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/OXRS-IO/" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Docs"><span class="title">Docs</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Docs"><span class="title">Docs</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/docs/hardware" class="" aria-label="Hardware"><!--[--><!--]--> Hardware <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/firmware" class="" aria-label="Firmware"><!--[--><!--]--> Firmware <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/libraries" class="router-link-active" aria-label="Libraries"><!--[--><!--]--> Libraries <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/cases" class="" aria-label="Cases"><!--[--><!--]--> Cases <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Add-ons"><span class="title">Add-ons</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Add-ons"><span class="title">Add-ons</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/add-ons/accessibility" class="" aria-label="Accessibility"><!--[--><!--]--> Accessibility <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/add-ons/displays" class="" aria-label="Displays"><!--[--><!--]--> Displays <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/add-ons/switches" class="" aria-label="Switches"><!--[--><!--]--> Switches <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Guides"><span class="title">Guides</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Guides"><span class="title">Guides</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/guides/getting-started/" class="" aria-label="Getting Started"><!--[--><!--]--> Getting Started <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guides/advanced" class="" aria-label="Advanced"><!--[--><!--]--> Advanced <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guides/standards" class="" aria-label="Standards"><!--[--><!--]--> Standards <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guides/writing-docs/" class="" aria-label="Writing Docs"><!--[--><!--]--> Writing Docs <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Glossary"><span class="title">Glossary</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Glossary"><span class="title">Glossary</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/glossary/skus.md" class="" aria-label="SKU&#39;s"><!--[--><!--]--> SKU&#39;s <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/glossary/makers.md" class="" aria-label="Makers"><!--[--><!--]--> Makers <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/glossary/acronyms.md" class="" aria-label="Acronyms"><!--[--><!--]--> Acronyms <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/OXRS-IO/" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/docs/hardware/README.md" class="sidebar-item sidebar-heading" aria-label="Hardware"><!--[--><!--]--> Hardware <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">Controllers <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/docs/hardware/controllers/rack32.html" class="sidebar-item" aria-label="Rack32"><!--[--><!--]--> Rack32 <!--[--><!--]--></a><!----></li><li><a href="/docs/hardware/controllers/room8266.html" class="sidebar-item" aria-label="Room8266"><!--[--><!--]--> Room8266 <!--[--><!--]--></a><!----></li><li><a href="/docs/hardware/controllers/rack-fan-controller.html" class="sidebar-item" aria-label="Rack Fan Controller"><!--[--><!--]--> Rack Fan Controller <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item">Input Devices <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/docs/hardware/input-devices/I2CRJ45.html" class="sidebar-item" aria-label="I2CRJ45"><!--[--><!--]--> I2CRJ45 <!--[--><!--]--></a><!----></li><li><a href="/docs/hardware/input-devices/CBUS-to-RJ45.html" class="sidebar-item" aria-label="CBUS to RJ45"><!--[--><!--]--> CBUS to RJ45 <!--[--><!--]--></a><!----></li><li><a href="/docs/hardware/input-devices/rotary-encode-to-rj45.html" class="sidebar-item" aria-label="Rotary Encoder to RJ45"><!--[--><!--]--> Rotary Encoder to RJ45 <!--[--><!--]--></a><!----></li><li><a href="/docs/hardware/input-devices/rotary-encode.html" class="sidebar-item" aria-label="Rotary Encode"><!--[--><!--]--> Rotary Encode <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item">Output Devices <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/docs/hardware/output-devices/pwm-controllers.html" class="sidebar-item" aria-label="PWM Controllers"><!--[--><!--]--> PWM Controllers <!--[--><!--]--></a><!----></li><li><a href="/docs/hardware/output-devices/DIN-Relay-Driver-4ch.html" class="sidebar-item" aria-label="DIN Relay Driver (4ch) (DRD4CH)"><!--[--><!--]--> DIN Relay Driver (4ch) (DRD4CH) <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item">Input &amp; Output Devices <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/docs/hardware/input-output-devices/smoke-detector-sd-16port.html" class="sidebar-item" aria-label="Smoke Detector 16-port (SD16)"><!--[--><!--]--> Smoke Detector 16-port (SD16) <!--[--><!--]--></a><!----></li><li><a href="/docs/hardware/input-output-devices/SenseRJ45.html" class="sidebar-item" aria-label="Sense to Rj45 (SRJ45)"><!--[--><!--]--> Sense to Rj45 (SRJ45) <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item">Shields <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/docs/hardware/shields/rack32-knx-shield.html" class="sidebar-item" aria-label="Rack32 KNX Shield"><!--[--><!--]--> Rack32 KNX Shield <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><li><a href="/docs/firmware/README.md" class="sidebar-item sidebar-heading" aria-label="Firmware"><!--[--><!--]--> Firmware <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">ESP32 <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/docs/firmware/state-monitor-esp32.html" class="sidebar-item" aria-label="State Monitor ESP32"><!--[--><!--]--> State Monitor ESP32 <!--[--><!--]--></a><!----></li><li><a href="/docs/firmware/state-controller-esp32.html" class="sidebar-item" aria-label="State Controller ESP32"><!--[--><!--]--> State Controller ESP32 <!--[--><!--]--></a><!----></li><li><a href="/docs/firmware/state-io-esp32.html" class="sidebar-item" aria-label="State IO ESP32"><!--[--><!--]--> State IO ESP32 <!--[--><!--]--></a><!----></li><li><a href="/docs/firmware/smoke-detector-esp32.html" class="sidebar-item" aria-label="Smoke Detector ESP32"><!--[--><!--]--> Smoke Detector ESP32 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><li><a href="/docs/libraries/README.md" class="sidebar-item sidebar-heading active" aria-label="Libraries"><!--[--><!--]--> Libraries <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">ESP32 <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/docs/libraries/esp32-mqtt-library.html" class="sidebar-item" aria-label="ESP32 MQTT library"><!--[--><!--]--> ESP32 MQTT library <!--[--><!--]--></a><!----></li><li><a href="/docs/libraries/esp32-api-library.html" class="sidebar-item" aria-label="ESP32 API library"><!--[--><!--]--> ESP32 API library <!--[--><!--]--></a><!----></li><li><a href="/docs/libraries/esp32-lcd-library.html" class="sidebar-item" aria-label="ESP32 LCD library"><!--[--><!--]--> ESP32 LCD library <!--[--><!--]--></a><!----></li><li><a href="/docs/libraries/esp32-io-handler-library.html" class="sidebar-item" aria-label="ESP32 I/O handler library"><!--[--><!--]--> ESP32 I/O handler library <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item active">ESP <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/docs/libraries/esp-sensor-library.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="ESP SENSOR library"><!--[--><!--]--> ESP SENSOR library <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/docs/libraries/esp-sensor-library.html#introduction" class="router-link-active router-link-exact-active sidebar-item" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/docs/libraries/esp-sensor-library.html#dependencies" class="router-link-active router-link-exact-active sidebar-item" aria-label="Dependencies"><!--[--><!--]--> Dependencies <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/libraries/esp-sensor-library.html#setup" class="router-link-active router-link-exact-active sidebar-item" aria-label="Setup"><!--[--><!--]--> Setup <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/libraries/esp-sensor-library.html#program-loop" class="router-link-active router-link-exact-active sidebar-item" aria-label="Program Loop"><!--[--><!--]--> Program Loop <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/libraries/esp-sensor-library.html#config" class="router-link-active router-link-exact-active sidebar-item" aria-label="Config"><!--[--><!--]--> Config <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/libraries/esp-sensor-library.html#command" class="router-link-active router-link-exact-active sidebar-item" aria-label="Command"><!--[--><!--]--> Command <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/libraries/esp-sensor-library.html#publishing" class="router-link-active router-link-exact-active sidebar-item" aria-label="Publishing"><!--[--><!--]--> Publishing <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/docs/libraries/esp-sensor-library.html#downloads" class="router-link-active router-link-exact-active sidebar-item" aria-label="Downloads"><!--[--><!--]--> Downloads <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/libraries/esp-sensor-library.html#supported-hardware" class="router-link-active router-link-exact-active sidebar-item" aria-label="Supported Hardware"><!--[--><!--]--> Supported Hardware <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><li><a href="/docs/cases/README.md" class="sidebar-item sidebar-heading" aria-label="Cases"><!--[--><!--]--> Cases <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">Rack Mount <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/docs/cases/rack-mount/rack-mount.html" class="sidebar-item" aria-label="Rack Mount Cases"><!--[--><!--]--> Rack Mount Cases <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item">3D Printed <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/docs/cases/3D-printed/" class="sidebar-item" aria-label="3D Printed Cases"><!--[--><!--]--> 3D Printed Cases <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="esp-sensor-library" tabindex="-1"><a class="header-anchor" href="#esp-sensor-library" aria-hidden="true">#</a> ESP SENSOR library</h1><p class="maker">by <b>Austin&#39;s Creations</b></p><blockquote><p>SKU: OXRS-AC-SENSORS-ESP-LIB</p></blockquote><h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction" aria-hidden="true">#</a> Introduction</h2><p>This library wraps up an i2c bus scanner + mqtt handling for qwiic / stemma I2C sensors</p><p>The library Supports</p><ul><li>BH1750 LUX sensor</li><li>SHT40 Temperature and Humidity Sensor</li><li>MCP9808 Temperature Sensor</li><li>PCF8523 RTC module</li><li>128x32 OLED Display</li></ul><p>Using this library means that config upon startup can be dynamic based on device configuration. all incoming and outgoing mqtt is handled by teh library, minimizing required code in main sketch. The library also handles the json payload for the OXRS API/MQTT adopt code. saving from having to copy / paste extra code in your main sketch. the adopt code is also dynamic - disabling elements that aren&#39;t connected.</p><hr><h3 id="dependencies" tabindex="-1"><a class="header-anchor" href="#dependencies" aria-hidden="true">#</a> Dependencies</h3><p>Library requires quite a few libraries</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Arduino.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;OXRS_MQTT.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;ArduinoJson.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Wire.h&gt;</span>                     <span class="token comment">// For I2C</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Adafruit_MCP9808.h&gt;</span>         <span class="token comment">// For temp sensor</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Adafruit_SSD1306.h&gt;</span>         <span class="token comment">// For OLED display</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;RTClib.h&gt;</span>                   <span class="token comment">// For PCF8523 RTC</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;BH1750.h&gt;</span>                   <span class="token comment">// For BH1750 lux sensor - non-adafruit library: https://github.com/claws/BH1750</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Adafruit_SHT4x.h&gt;</span>           <span class="token comment">// For SHT40 Temp / humidity sensor</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression"><span class="token function">defined</span><span class="token punctuation">(</span>ESP32<span class="token punctuation">)</span></span></span>
  <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;WiFi.h&gt;</span></span>
  <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;ETH.h&gt;</span></span>
  <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Ethernet.h&gt;</span> </span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">elif</span> <span class="token expression"><span class="token function">defined</span><span class="token punctuation">(</span>ESP8266<span class="token punctuation">)</span></span></span>
  <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;ESP8266WiFi.h&gt;</span></span>
  <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Ethernet.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="setup" tabindex="-1"><a class="header-anchor" href="#setup" aria-hidden="true">#</a> Setup</h3><p>To use the library, ensure you have it downloaded / installed. The library is normally declared near the top of a sketch. after this is done the library isnatnce needs to be called / set. becuase the library uses i2c the <code>wire.begin();</code> should be called. you may need to include the SDA,SCL pin numbers in this declaration depending on hardware used.</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;OXRS_SENSORS.h&gt;</span>            <span class="token comment">// Declare the library</span></span>

OXRS_SENSORS <span class="token function">sensors</span><span class="token punctuation">(</span>mqtt<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// Create library isntance - * declare after mqtt</span>

Wire<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">// Start I2C connection</span>
Wire<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>SDA<span class="token punctuation">,</span>SCL<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// Start I2C connection, but with different I2C pins</span>

sensors<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment">// start the Library - placed within SETUP()</span>

sensors<span class="token punctuation">.</span><span class="token function">oled</span><span class="token punctuation">(</span>WiFi<span class="token punctuation">.</span><span class="token function">macAddress</span><span class="token punctuation">(</span>mac<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Called before setting up network - will show MAC on screen</span>
sensors<span class="token punctuation">.</span><span class="token function">oled</span><span class="token punctuation">(</span>Ethernet<span class="token punctuation">.</span><span class="token function">localIP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// Called after network setup - will now update display with IP address</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>There are also routines that need to be called within mqtt rountines.</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>sensors<span class="token punctuation">.</span><span class="token function">setConfigSchema</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Placed within main sketch ConfigSchema routine</span>

sensors<span class="token punctuation">.</span><span class="token function">setCommandSchema</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Placed within main sketch CommandSchema routine</span>

sensors<span class="token punctuation">.</span><span class="token function">conf</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">// Placed within main sketch CONF callback routine</span>

sensors<span class="token punctuation">.</span><span class="token function">cmnd</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">// Placed within main sketch CMND callback routine</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>See the libraries built in examples to better see how and where to place routines and callbacks</p><h3 id="program-loop" tabindex="-1"><a class="header-anchor" href="#program-loop" aria-hidden="true">#</a> Program Loop</h3><p>The main loop requires two routines, one keeps an OLED updated, the other updates the MQTT TELE topic with sensor data per the set interval</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">// Required Routines in loop()</span>

sensors<span class="token punctuation">.</span><span class="token function">oled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// updates OLED</span>
sensors<span class="token punctuation">.</span><span class="token function">tele</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// update MQTT TELE per configured interval</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="config" tabindex="-1"><a class="header-anchor" href="#config" aria-hidden="true">#</a> Config</h3><p>The library can autoamtically handle incoming mqtt config payloads to control sensors</p><h3 id="command" tabindex="-1"><a class="header-anchor" href="#command" aria-hidden="true">#</a> Command</h3><p>The library can automatically handle incoming mqtt commands payloads to control sensors</p><h3 id="publishing" tabindex="-1"><a class="header-anchor" href="#publishing" aria-hidden="true">#</a> Publishing</h3><p>The library Automatically handles the sending of TELE data</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>These topics will be different if you set a topic prefix or suffix. E.g. a topic prefix of <code>home</code> and suffix of <code>oxrs</code> would result in a LWT topic of <code>home/stat/&lt;clientid&gt;/oxrs/lwt</code></p></div><table><thead><tr><th style="text-align:left;">Publish API</th><th style="text-align:left;">Topic</th><th style="text-align:left;">Retained</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>publishTelemetry</code></td><td style="text-align:left;"><code>tele/&lt;clientid&gt;</code></td><td style="text-align:left;">false</td><td style="text-align:left;">Publish a JSON <strong>telemetry</strong> message, e.g. when publishing regular sensor data</td></tr></tbody></table><h2 id="downloads" tabindex="-1"><a class="header-anchor" href="#downloads" aria-hidden="true">#</a> Downloads</h2><p>Download the latest version of the library on <a href="https://github.com/austinscreations/OXRS-AC-I2CSensors-ESP-LIB" target="_blank" rel="noopener noreferrer">Github<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><h2 id="supported-hardware" tabindex="-1"><a class="header-anchor" href="#supported-hardware" aria-hidden="true">#</a> Supported Hardware</h2><p>This library is compatible with ESP32 and ESP8266 microprocessors.</p><hr><h4 id="credits" tabindex="-1"><a class="header-anchor" href="#credits" aria-hidden="true">#</a> Credits</h4><ul><li>Austins Creations</li><li>Ben Jones</li></ul><hr><h4 id="license" tabindex="-1"><a class="header-anchor" href="#license" aria-hidden="true">#</a> License</h4><p>Found <a href="https://github.com/austinscreations/OXRS-AC-I2CSensors-ESP-LIB/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">here<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/OXRS-IO/OXRS-IO-WEBSITE/edit/main/docs/docs/libraries/esp-sensor-library.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 70245481+austinscreations@users.noreply.github.com">austinscreations</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.b38cdf7f.js" defer></script>
  </body>
</html>
